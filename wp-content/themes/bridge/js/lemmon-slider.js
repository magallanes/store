!function(e){function i(i,n,o,s,l){if(n.items.filter("li:eq("+s+")").addClass("active").siblings(".active").removeClass("active"),n.options.center){var r=e(n.items[s]);n.options.offset=Math.floor((e(".qode_image_gallery_holder").width()-r.width())/2),console.log("set offset to ",n.options.offset)}if("undefined"==typeof l&&(l="slow"),l)n.animate({scrollLeft:o-n.options.offset},l,function(){t(n)});else{n.scrollLeft(o-n.options.offset),t(n)}}function t(e){var i=e.items.filter(".active");if(i.hasClass("-before")){var t=i.prevAll().size();i.removeClass("active"),i=e.items.filter(":not(.-before):eq("+t+")").addClass("active"),e.scrollLeft(e.scrollLeft()+i.position().left-e.options.offset)}else if(i.hasClass("-after")){var t=i.prevAll(".-after").size();i.removeClass("active"),i=e.items.filter(":not(.-before):eq("+t+")").addClass("active"),e.scrollLeft(e.scrollLeft()+i.position().left-e.options.offset)}}var n={init:function(t){return t=e.extend({},e.fn.lemmonSlider.defaults,t),this.each(function(){var n=e(this),o=n.data("slider");if(!o){var s=n.find(t.slider),l=n.next().filter(".controls"),r=s.find(t.items),f=1;r.each(function(){f+=e(this).outerWidth(!0)}),s.width(f),t.slideToLast&&s.css("padding-right",n.width()),t.infinite&&(n.data("slider-infinite",!0),f=3*f,s.width(f),r.clone(!0,!0).addClass("-after").insertAfter(r.filter(":last")),r.filter(":first").before(r.clone(!0,!0).addClass("-before")),r=s.find(t.items)),n.items=r,n.options=t,i({},n,0,0,0),n.bind("nextSlide",function(o,l){var f=n.scrollLeft(),d=0,a=0;r.each(function(i){0==d&&e(this).position().left>t.offset&&(d=e(this).position().left,a=i)}),d>0&&s.outerWidth()-f-n.width()-1>0?i(o,n,f+d,a,"slow"):t.loop&&i(o,n,0,0,"slow")}),n.bind("prevSlide",function(o,l){var f=n.scrollLeft(),d=0,a=0;if(r.each(function(i){e(this).position().left<t.offset&&(d=e(this).position().left,a=i)}),d)i(o,n,f+d,a,"slow");else if(t.loop){var c=s.outerWidth()-n.width(),p=r.filter(":last").position().left;a=r.size()-1,c>p?i(o,n,p,a,"slow"):i(o,n,c,a,"slow")}}),n.bind("nextPage",function(o,s){var l=n.scrollLeft(),d=n.width(),a=0,c=0;r.each(function(i){e(this).position().left<d&&(a=e(this).position().left,c=i)}),a>0&&f>l+d+1?i(o,n,l+a,c,"slow"):t.loop&&i(o,n,0,0,"slow")}),n.bind("prevPage",function(o,l){var f=n.scrollLeft(),d=n.width(),a=0;if(r.each(function(i){e(this).position().left<1-d&&(a=e(this).next().position().left,slide=i)}),f)0==a?i(o,n,0,0,"slow"):i(o,n,f+a,slide,"slow");else if(t.loop){var c=s.outerWidth()-n.width(),p=r.filter(":last").position().left;c>p?n.animate({scrollLeft:p},"slow"):n.animate({scrollLeft:c},"slow")}}),n.bind("slideTo",function(e,t,o){i(e,n,n.scrollLeft()+r.filter(":eq("+t+")").position().left,t,o)}),l.find(".next-slide").click(function(){return n.trigger("nextSlide"),!1}),l.find(".prev-slide").click(function(){return n.trigger("prevSlide"),!1}),l.find(".next-page").click(function(){return n.trigger("nextPage"),!1}),l.find(".prev-page").click(function(){return n.trigger("prevPage"),!1}),n.data("slider",{target:n,options:t})}})},addItem:function(i){{var i=e.extend({},e.fn.lemmonSlider.defaults,i),t=e(this),o=t.find(i.slider);t.next().filter(".controls"),o.find(i.items)}return i.infinite=t.data("slider-infinite"),i.item?(n.destroy.apply(this),i.prepend?o.prepend(i.item):o.append(i.item),void n.init.apply(this,[i])):!1},destroy:function(){return this.each(function(){{var i=e(this),t=i.next().filter(".controls"),n=i.find("> *:first > *");i.data("slider")}i.unbind("nextSlide"),i.unbind("prevSlide"),i.unbind("nextPage"),i.unbind("prevPage"),i.unbind("slideTo"),t.find(".next-slide").unbind("click"),t.find(".prev-slide").unbind("click"),t.find(".next-page").unbind("click"),t.find(".next-page").unbind("click"),i.removeData("slider"),i.data("slider-infinite")&&e.merge(n.filter(".-before"),n.filter(".-after")).each(function(i,t){e(t).remove()})})}};e.fn.lemmonSlider=function(i,t){return n[i]?n[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.lemmonSlider"):n.init.apply(this,arguments)},e.fn.lemmonSlider.defaults={items:"> *",loop:!0,slideToLast:!1,slider:"> *:first",infinite:!0,center:!0,offset:0}}(jQuery);